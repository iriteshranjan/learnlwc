<template>
    <lightning-card title="Indian Railways Train Tracker">
        <div class="slds-p-around-medium">
          
          
            <lightning-input 
                type="text"  
                label="Enter Train Number or Station"
                placeholder="e.g., Hatia or 13513"
                onkeyup={trainHandler}>
            </lightning-input>

            <template if:true={test}>
               <ul class="slds-p-top_small slds-border_top">
              <template for:each={test} for:item="trains">
              <li  class="slds-box slds-box_xx-small slds-m-vertical_xx-small clickable"
                data-id={trains.id}
                data-name={trains.name}
                data-src_stn_name={trains.src_stn_name}
                data-dstn_stn_name={trains.dstn_stn_name}

                onclick={handleSelect}
                key={trains.id}>{trains.name}</li>
              </template></ul>
                
            </template>
             
                <template if:true={selectedTrainId}>
                <div class="center-card">
                    <lightning-card>
                    <div class="slds-p-around_medium slds-text-align_center">
                        <strong>{selectedTrainId}</strong> <br>
                        <strong>Source Station:</strong> {start} <br>
                        <strong>Destination:</strong> {end}
                        
        <div class="slds-p-around_medium">
            
            <lightning-combobox
                name="dateOptions"
                label="Choose a Date"
                value={selectedValue}
                placeholder="Select an option"
                options={dateOptions}
                onchange={handleChange}>
            </lightning-combobox>

            <template if:true={selectedValue}>
                <p class="slds-m-top_medium slds-text-heading_small">
                    Selected Value: <strong>{selectedDate}</strong></br>
                    API URL={apiUrl2}

                
                   
                </p>
            </template>

        </div>
 
                        

                    </div>
                    </lightning-card>
                </div> 
                </template>

            <template if:true={error}>
                <p style="color:rgb(88, 19, 19);">{error}</p>
            </template>
        </div>
    </lightning-card>
    
    <template if:true={trainSelected}>
    <lightning-card title="Real time Data">
      
        <lightning-button variant="variant" label="Refresh" title="Refresh" type=submit onclick={latestHandler}></lightning-button>

       <template if:true={apiUrl2} >
         </template>
            test  API URL={responseAPI} </br>
    </lightning-card>
    </template>
</template>
